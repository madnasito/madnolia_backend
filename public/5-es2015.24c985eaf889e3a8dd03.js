(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{sTBm:function(t,e,i){"use strict";i.r(e),i.d(e,"NewRoutingModule",function(){return _});var a=i("tyNb"),s=i("OCoP"),n=i("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Cb({type:t,selectors:[["app-new-page"]],decls:10,vars:0,consts:[[1,"container"],[1,"row"],[1,"col","s12","m6"],["routerLink","match"],["routerLink","tournament"]],template:function(t,e){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"a",3),n.Lb(4,"h1"),n.kc(5,"Single match"),n.Kb(),n.Kb(),n.Kb(),n.Lb(6,"div",2),n.Lb(7,"a",4),n.Lb(8,"h1"),n.kc(9,"Tournament"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb())},directives:[a.e],styles:[""]}),t})();var o=i("mrSG"),r=i("3Pt+"),b=i("AytR"),l=i("qfBg"),m=i("wZ2L"),h=i("VfKn"),d=i("sYmb"),u=i("7JkF"),f=i("ofXK");function g(t,e){1&t&&(n.Lb(0,"h2",35),n.kc(1),n.Vb(2,"translate"),n.Kb()),2&t&&(n.wb(1),n.lc(n.Wb(2,1,"CREATE_MATCH.TITLE")))}function p(t,e){if(1&t){const t=n.Mb();n.Lb(0,"div",36),n.Lb(1,"a",37),n.Sb("click",function(){n.gc(t);const i=e.$implicit;return n.Ub(2).getPlatform(i.name,i.category,i.api_id,i.ico)}),n.Jb(2,"i"),n.Lb(3,"p"),n.kc(4),n.Kb(),n.Kb(),n.Kb()}if(2&t){const t=e.$implicit;n.wb(1),n.Xb("value",t.category),n.wb(1),n.zb("",t.ico," db-ico"),n.wb(2),n.lc(t.name)}}function v(t,e){if(1&t&&(n.Lb(0,"div",32),n.Lb(1,"div",16),n.jc(2,g,3,3,"h2",33),n.jc(3,p,5,5,"div",34),n.Kb(),n.Kb()),2&t){const t=n.Ub();n.wb(2),n.Xb("ngIf",!t.platformName),n.wb(1),n.Xb("ngForOf",t.platforms)}}function C(t,e){if(1&t){const t=n.Mb();n.Lb(0,"div",38),n.Sb("click",function(){n.gc(t);const i=e.$implicit;return n.Ub().selectGame(i.id,i.name,i.background_image)}),n.Jb(1,"img",39),n.Lb(2,"p"),n.kc(3),n.Kb(),n.Kb()}if(2&t){const t=e.$implicit;n.wb(1),n.Xb("src",t.background_image,n.hc),n.wb(2),n.lc(t.name)}}function w(t,e){1&t&&(n.Lb(0,"div",40),n.Jb(1,"br"),n.Lb(2,"h2"),n.kc(3),n.Vb(4,"translate"),n.Kb(),n.Jb(5,"br"),n.Lb(6,"h4",41),n.kc(7),n.Vb(8,"translate"),n.Kb(),n.Kb()),2&t&&(n.wb(3),n.lc(n.Wb(4,2,"CREATE_MATCH.PLATFORMS_EMPTY")),n.wb(4),n.lc(n.Wb(8,4,"CREATE_MATCH.ADD_PLATFORMS")))}function L(t,e){if(1&t&&(n.Lb(0,"div",48),n.Lb(1,"h4",49),n.kc(2),n.Vb(3,"translate"),n.Kb(),n.Kb()),2&t){const t=n.Ub(2);n.wb(2),n.nc("",n.Wb(3,2,"CREATE_MATCH.SEARCHING")," ",t.gameSearch,"")}}function K(t,e){if(1&t){const t=n.Mb();n.Lb(0,"div",42),n.Lb(1,"div",16),n.Lb(2,"div",43),n.Lb(3,"input",44,45),n.Sb("keyup",function(){n.gc(t);const e=n.fc(4);return n.Ub().searchGame(e.value)}),n.Kb(),n.Jb(5,"br"),n.Lb(6,"label",46),n.kc(7),n.Vb(8,"translate"),n.Kb(),n.Kb(),n.jc(9,L,4,4,"div",47),n.Kb(),n.Kb()}if(2&t){const t=n.Ub();n.wb(7),n.lc(n.Wb(8,2,"CREATE_MATCH.SEARCH_GAME")),n.wb(2),n.Xb("ngIf",t.gameSearch)}}function I(t,e){if(1&t){const t=n.Mb();n.Lb(0,"li",54),n.Sb("click",function(){n.gc(t);const i=e.$implicit;return n.Ub(2).addUser(i)}),n.Jb(1,"img",55),n.Lb(2,"h6"),n.kc(3),n.Kb(),n.Kb()}if(2&t){const t=e.$implicit,i=n.Ub(2);n.wb(1),n.bc("src","",i.url,"/upload/users/",t._id,"/",t.img,"",n.hc),n.wb(2),n.lc(t.username)}}function k(t,e){if(1&t){const t=n.Mb();n.Lb(0,"div",50),n.Lb(1,"div",48),n.Lb(2,"input",51,45),n.Sb("keyup",function(){n.gc(t);const e=n.fc(3);return n.Ub().searchUser(e)}),n.Vb(4,"translate"),n.Kb(),n.Lb(5,"ul",52),n.jc(6,I,4,4,"li",53),n.Kb(),n.Kb(),n.Kb()}if(2&t){const t=n.Ub();n.wb(2),n.Yb("placeholder",n.Wb(4,2,"CREATE_MATCH.SEARCH_USER")),n.wb(4),n.Xb("ngForOf",t.users)}}function y(t,e){if(1&t&&(n.Lb(0,"li",35),n.kc(1),n.Kb()),2&t){const t=e.$implicit;n.wb(1),n.lc(t)}}const T=[{path:"",component:s.a,children:[{path:"",component:c},{path:"match",component:(()=>{class t{constructor(t,e,i,a,s,n,c){this.fb=t,this.userService=e,this.gamesService=i,this.matchService=a,this.router=s,this.transleService=n,this.socket=c,this.matchDate="",this.users=[],this.invitedUsers=[],this.invitedUsers_=[],this.platforms=null,this.platformName=null,this.emptyPlatforms=!1,this.url=b.a.base_url,this.gameName="",this.gameId=0,this.actualPage=0,this.keyPressed=0,this.gameSearch=null,this.match=this.fb.group({name:["Casual Match",[r.o.required,r.o.max(20)]],date:[""],game_name:[this.gameName,[r.o.required]],game_id:[this.gameId,[r.o.required]],platform:[""],img:[""],users:[this.invitedUsers]}),this.loadInfo=()=>Object(o.a)(this,void 0,void 0,function*(){this.user=yield this.userService.userInfo().subscribe(t=>{this.user=t},t=>console.log(t))}),this.loadPlatforms=()=>Object(o.a)(this,void 0,void 0,function*(){this.userService.userPlatforms().subscribe(t=>{this.platforms=t,0==this.platforms.length&&(this.emptyPlatforms=!0)},t=>console.log(t))}),this.searchGame=t=>Object(o.a)(this,void 0,void 0,function*(){this.keyPressed++,setTimeout(()=>{this.keyPressed--,0==this.keyPressed&&(this.gameSearch=t,this.gamesService.searchGamesByPlatform(t,this.platformId).subscribe(t=>{openGamesModal(),this.games=t.results,this.gamesService.resizeImages(this.games),this.gameSearch=null},t=>console.log(t)))},1500)}),customInitFunctions(),this.loadInfo(),this.loadPlatforms()}createMatch(){this.matchDate&&this.matchHour?(this.matchDate.setHours(this.matchHour[0]),this.matchDate.setMinutes(this.matchHour[1]),this.match.value.date=this.matchDate.getTime(),this.match.value.platform=this.platformId,this.match.value.game_name=this.gameName,this.match.value.game_id=this.gameId,this.match.value.img=this.gameImg,this.matchService.createMatch(this.match.value).subscribe(t=>{this.socket.emit("match_created",t.matchDB),this.transleService.get("CREATE_MATCH.MATCH_CREATED").subscribe(t=>{toastMessage(t,"green"),this.router.navigateByUrl("/profile/matches")})},t=>console.log(t))):this.transleService.get("CREATE_MATCH.DATE_ERROR").subscribe(t=>{toastMessage(t,"red accent-4")})}onDateChange(t){this.matchDate=new Date(t.firedBy.date),new Date,this.matchHour&&(this.matchDate.setHours(this.matchHour[0]),this.matchDate.setMinutes(this.matchHour[1]),resetScroll())}onTimeChange(t){this.matchHour=t.target.value.split(":"),resetScroll()}ngOnInit(){customInitFunctions()}loadGames(){this.gamesService.getGamesByPlatform(this.platformId,"1").subscribe(t=>{this.games=t},t=>console.log(t))}getPlatform(t,e,i,a){switch(this.platformName=t,this.platformCategory=e,this.platformId=i,this.platformIco=a,this.platformCategory){case"PlayStation":this.platformCategoryIco="icon-playstation";break;case"Xbox":this.platformCategoryIco="icon-xbox";break;case"Nintendo":this.platformCategoryIco="icon-nintendo";case"Mobile":this.platformCategoryIco="icon-smartphone large";break;case"PC":this.platformCategoryIco="icon-pc large"}this.platformsLoaded=this.platforms,this.platforms=null,this.emptyPlatforms=!1,dateInit(event)}backToSelect(){openGamesModal(),this.platforms=this.platformsLoaded,this.platformId=null,this.platformName=null,document.getElementById("formulario").hidden=!0,document.getElementById("gameSelector").hidden=!1}selectGame(t,e,i){this.gameName=e,this.gameId=t,this.gameImg=i,document.getElementById("formulario").hidden=!1,this.games=[],document.getElementById("gameSelector").hidden=!0,closeModal()}searchUser(t){this.keyPressed++,setTimeout(()=>{if(this.keyPressed--,0==this.keyPressed){if(""==t.value)return void(this.users=[]);this.userService.searchPartners(t.value).subscribe(t=>{this.users=[];for(let e=0;e<t.length;e++){const i=t[e];i._id==this.user.uid||this.invitedUsers.includes(i._id)||this.users.push(i)}})}},1e3)}addUser(t){this.invitedUsers.push(t._id),this.invitedUsers_.push(t.username),this.users=[]}}return t.\u0275fac=function(e){return new(e||t)(n.Ib(r.c),n.Ib(l.a),n.Ib(m.a),n.Ib(h.a),n.Ib(a.b),n.Ib(d.d),n.Ib(u.a))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-create-match"]],decls:64,vars:40,consts:[["class"," center-align col s12 animated fadeIn",4,"ngIf"],["id","modal1",1,"modal","open"],[1,"modal-content"],[1,"row","games"],["class","col s12 m4",3,"click",4,"ngFor","ngForOf"],["class","",4,"ngIf"],["class","container animated fadeIn","id","gameSelector",4,"ngIf"],["class","row container",4,"ngIf"],["id","formulario","hidden","",1,"row","mainCenter","container","animated","fadeIn","fast"],[1,"col","s12",3,"formGroup","ngSubmit"],[1,"row","marginTop"],[1,"col","m4","s12"],["id","platform"],[1,"input-field","col","s12","m8"],["id","first_name","type","text","formControlName","name",1,"validate","white-text"],["for","first_name"],[1,"row"],[1,"col","s12","m6"],[1,"white-text","center"],["class","deep-purple-text text-lighten-1",4,"ngFor","ngForOf"],[1,"input-field","col","s12","m6"],["type","text","formControlName","date",1,"datepicker","white-text",3,"change"],["type","hidden","formControlName","game_name","disabled","",3,"value"],["type","hidden","formControlName","game_id","disabled","",3,"value"],["type","hidden","formControlName","platform","disabled","",3,"value"],[1,"input-field","col","s12","m6","offset-m6"],["type","time","data-tooltip","Please press the clock",1,"white-text","tooltipped",3,"change"],["data-error","wrong","data-success","right",1,"helper-text","white-text"],[1,"row","white-text","center-align"],[1,"row","right"],["type","submit","name","action",1,"btn","waves-effect","deep-purple","accent-4"],[1,"material-icons","right"],[1,"center-align","col","s12","animated","fadeIn"],["class","deep-purple-text text-lighten-1",4,"ngIf"],["class","col s12 m4 l4 xl4 center-align black-text",4,"ngFor","ngForOf"],[1,"deep-purple-text","text-lighten-1"],[1,"col","s12","m4","l4","xl4","center-align","black-text"],[3,"value","click"],[1,"col","s12","m4",3,"click"],["alt","game.name","width","100%","height","200",1,"game",3,"src"],[1,""],["routerLink","/profile/platforms",1,"teal-text","text-accent-4"],["id","gameSelector",1,"container","animated","fadeIn"],[1,"input-field","col","s12"],["id","search","type","text","autofocus","",1,"validate",3,"keyup"],["search",""],["for","search"],["class","col s12",4,"ngIf"],[1,"col","s12"],[1,"center-align","loading_icon"],[1,"row","container"],["id","search_user","type","text",3,"placeholder","keyup"],["id","foundedUsers"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["alt","","width","100%","height","100px",1,"center-align",3,"src"]],template:function(t,e){1&t&&(n.Lb(0,"div"),n.jc(1,v,4,2,"div",0),n.Lb(2,"div",1),n.Lb(3,"div",2),n.Lb(4,"h4"),n.kc(5),n.Vb(6,"translate"),n.Kb(),n.Lb(7,"div",3),n.jc(8,C,4,2,"div",4),n.Kb(),n.Kb(),n.Kb(),n.jc(9,w,9,6,"div",5),n.jc(10,K,10,4,"div",6),n.jc(11,k,7,4,"div",7),n.Lb(12,"div",8),n.Lb(13,"form",9),n.Sb("ngSubmit",function(){return e.createMatch()}),n.Lb(14,"div",10),n.Lb(15,"div",11),n.Jb(16,"i",12),n.Kb(),n.Lb(17,"div",13),n.Jb(18,"input",14),n.Lb(19,"label",15),n.kc(20),n.Vb(21,"translate"),n.Kb(),n.Kb(),n.Kb(),n.Lb(22,"div",16),n.Lb(23,"div",17),n.Lb(24,"h6",18),n.kc(25),n.Vb(26,"translate"),n.Kb(),n.Lb(27,"ul"),n.jc(28,y,2,1,"li",19),n.Kb(),n.Kb(),n.Lb(29,"div",20),n.Lb(30,"input",21),n.Sb("change",function(t){return e.onDateChange(t)}),n.Kb(),n.Lb(31,"label"),n.kc(32),n.Vb(33,"translate"),n.Kb(),n.Kb(),n.Jb(34,"input",22),n.Jb(35,"input",23),n.Jb(36,"input",24),n.Lb(37,"div",25),n.Lb(38,"input",26),n.Sb("change",function(t){return e.onTimeChange(t)}),n.Kb(),n.Lb(39,"label"),n.kc(40),n.Vb(41,"translate"),n.Kb(),n.Lb(42,"span",27),n.kc(43),n.Vb(44,"translate"),n.Kb(),n.Kb(),n.Kb(),n.Lb(45,"div",28),n.Lb(46,"div",11),n.Lb(47,"h5"),n.kc(48),n.Kb(),n.Kb(),n.Lb(49,"div",11),n.Lb(50,"h5"),n.kc(51),n.Kb(),n.Kb(),n.Lb(52,"div",11),n.Lb(53,"h5"),n.kc(54),n.Kb(),n.Kb(),n.Kb(),n.Lb(55,"div",29),n.Lb(56,"button",30),n.kc(57),n.Vb(58,"translate"),n.Lb(59,"i",31),n.kc(60),n.Vb(61,"translate"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Jb(62,"br"),n.Kb(),n.Jb(63,"br"),n.Kb()),2&t&&(n.wb(1),n.Xb("ngIf",!e.emptyPlatforms),n.wb(4),n.lc(n.Wb(6,24,"CREATE_MATCH.SEARCH_RESULTS")),n.wb(3),n.Xb("ngForOf",e.games),n.wb(1),n.Xb("ngIf",e.emptyPlatforms),n.wb(1),n.Xb("ngIf",e.platformName),n.wb(1),n.Xb("ngIf",e.gameId),n.wb(2),n.Xb("formGroup",e.match),n.wb(3),n.zb("",e.platformCategoryIco," large white-text"),n.wb(4),n.lc(n.Wb(21,26,"CREATE_MATCH.MATCH_NAME")),n.wb(5),n.lc(n.Wb(26,28,"CREATE_MATCH.INVITEDS")),n.wb(3),n.Xb("ngForOf",e.invitedUsers_),n.wb(4),n.lc(n.Wb(33,30,"CREATE_MATCH.DATE")),n.wb(2),n.Xb("value",e.gameName),n.wb(1),n.Xb("value",e.gameId),n.wb(1),n.Xb("value",e.platformId),n.wb(4),n.lc(n.Wb(41,32,"CREATE_MATCH.TIME")),n.wb(3),n.lc(n.Wb(44,34,"CREATE_MATCH.CLOCK_MESSAGE")),n.wb(5),n.lc(e.user.name),n.wb(3),n.lc(e.platformName),n.wb(3),n.lc(e.gameName),n.wb(3),n.mc("",n.Wb(58,36,"CREATE_MATCH.SUBMIT")," "),n.wb(3),n.lc(n.Wb(61,38,"CREATE_MATCH.CREATE_MATCH")))},directives:[f.j,f.i,r.q,r.i,r.f,r.a,r.h,r.e,a.c],pipes:[d.c],styles:["#platform[_ngcontent-%COMP%]{padding:40px}.marginTop[_ngcontent-%COMP%]{margin-top:40px}label[_ngcontent-%COMP%]{font-size:1.5em;z-index:-1;font-family:Cyberverse}a[_ngcontent-%COMP%]{cursor:pointer}.col[_ngcontent-%COMP%]{padding:22px}.db-ico[_ngcontent-%COMP%]{color:#000;font-size:20em;transition:.5s}.db-ico[_ngcontent-%COMP%]:hover{color:#fff;transition:.5s}h4[_ngcontent-%COMP%]{color:grey}.modal[_ngcontent-%COMP%]{background-color:#000;width:85%}.platform[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:10px}"]}),t})()},{path:"tournament",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Cb({type:t,selectors:[["app-tournament"]],decls:2,vars:0,template:function(t,e){1&t&&(n.Lb(0,"p"),n.kc(1,"tournament works!"),n.Kb())},styles:[""]}),t})()}]}];let _=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(e){return new(e||t)},imports:[[a.f.forChild(T)],a.f]}),t})()}}]);